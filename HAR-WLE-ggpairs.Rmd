---
title: "WLE Generalized Pair Plots"
author: "Maurício Collaça"
date: "December 5, 2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r message=FALSE, warning=FALSE, include=FALSE}
library(dplyr); library(ggplot2); library(GGally);
training <- read.csv("pml-training.csv", na.strings=c("NA","","#DIV/0!"))
testing <- read.csv("pml-testing.csv", na.strings=c("NA","","#DIV/0!"))
source("HAR-WLE-utils.R"); WLEdataCleanup()
```
## Sensor set features

### Arm
```{r armPairs, echo=FALSE, fig.height=10, fig.width=20, cache=TRUE}
training %>% select(contains("_arm")) %>% ggpairs(columnLabels = gsub("_", "\n", names(.)),
                                                  title="Arm sensor set features")
```

### Belt
```{r beltPairs, echo=FALSE, fig.height=10, fig.width=20, cache=TRUE}
training %>% select(contains("_belt")) %>% ggpairs(columnLabels = gsub("_", "\n", names(.)),
                                                   title="Belt sensor set features")
```

### Dumbbell
```{r dumbbellPairs, echo=FALSE, fig.height=10, fig.width=20, cache=TRUE}
training %>% select(contains("_dumbbell")) %>% ggpairs(columnLabels = gsub("_", "\n", names(.)),
                                                       title="Dumbbell sensor set features")
```

### Forearm
```{r forearmPairs, echo=FALSE, fig.height=10, fig.width=20, cache=TRUE}
training %>% select(contains("_forearm")) %>% ggpairs(columnLabels = gsub("_", "\n", names(.)),
                                                      title="Forearm sensor set features")
```

## Sensor features

### Accelerometer
```{r accelPairs, echo=FALSE, fig.height=10, fig.width=20, cache=TRUE}
training %>% select(matches("^accel")) %>% ggpairs(columnLabels = gsub("_", "\n", names(.)),
                                                       title="Accelerometer features")
```

### Gyroscope
```{r gyrosPairs, echo=FALSE, fig.height=10, fig.width=20, cache=TRUE}
training %>% select(matches("^gyros")) %>% ggpairs(columnLabels = gsub("_", "\n", names(.)),
                                                       title="Gyroscope features")
```

### Magnetometer
```{r magnetPairs, echo=FALSE, fig.height=10, fig.width=20, cache=TRUE}
training %>% select(matches("^magnet")) %>% ggpairs(columnLabels = gsub("_", "\n", names(.)),
                                                       title="Magnetometer features")
```

## Accelerometer totals by sensor set
```{r totalAccelPairs, echo=FALSE, fig.height=10, fig.width=20, cache=TRUE}
training %>% select(matches("total")) %>% ggpairs(columnLabels = gsub("_", "\n", names(.)),
                                                  title="Accelerometer total features")
```

## Euler angles (pitch, roll and yaw) from sensors (belt, arm, dumbell and forearm)
```{r anglePairs, echo=FALSE, fig.height=10, fig.width=20, cache=TRUE}
training %>% select(matches("^(accel|gyros|magnet|pitch|roll|yaw).+[^xyz]$")) %>%
    ggpairs(columnLabels = gsub("_", "\n", names(.)),
            title="Euler Angles features")
```
